{% extends 'core/base/base.html' %}
{% load static %}
{% load humanize %}
{% block header %}


                <div class="site-header__nav-panel">
                    <div class="nav-panel">
                        <div class="nav-panel__container container">
                            <div class="nav-panel__row">
                                <div class="nav-panel__departments"><!-- .departments -->
                                    <div class="departments departments--opened departments--fixed"
                                        data-departments-fixed-by=".block-slideshow">
                                        <div class="departments__body">
                                            <div class="departments__links-wrapper">
                                                <ul class="departments__links">

                                                    <li class="departments__item departments__item--menu"><a
                                                            href="#">Construction Equipment<svg class="departments__link-arrow"
                                                                width="6px" height="9px">
                                                                <use
                                                                    xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-right-6x9">
                                                                </use>
                                                            </svg></a>
                                                        <div class="departments__menu"><!-- .menu -->
                                                            <ul class="menu menu--layout--classic">
                                                                <li><a href="{% url 'Excavators' %}">Excavators</a></li>
                                                                <li><a href="{% url 'Bulldozers' %}">Bulldozers</a></li>
                                                                <li><a href="{% url 'Cranes' %}">Cranes</a></li>
                                                                <li><a href="{% url 'Loaders' %}">Loaders</a></li>
                                                            </ul><!-- .menu / end -->
                                                        </div>
                                                    </li>
                                                    
                                                    <li class="departments__item departments__item--menu"><a
                                                        href="#">Metal Products<svg class="departments__link-arrow"
                                                            width="6px" height="9px">
                                                            <use
                                                                xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-right-6x9">
                                                            </use>
                                                        </svg></a>
                                                    <div class="departments__menu"><!-- .menu -->
                                                        <ul class="menu menu--layout--classic">
                                                            <li><a href="{% url 'SteelPlates' %}">Steel Plates</a></li>
                                                            <li><a href="{% url 'AluminumSheets' %}">Aluminum Sheets</a></li>
                                                            <li><a href="{% url 'CopperWires' %}">Copper Wires</a></li>
                                                            <li><a href="{% url 'MetalPipes' %}">Metal Pipes</a></li>
                                                        </ul><!-- .menu / end -->
                                                    </div>
                                                </li>




                                                <li class="departments__item departments__item--menu"><a
                                                    href="#"> Industrial Machinery<svg class="departments__link-arrow"
                                                        width="6px" height="9px">
                                                        <use
                                                            xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-right-6x9">
                                                        </use>
                                                    </svg></a>
                                                <div class="departments__menu"><!-- .menu -->
                                                    <ul class="menu menu--layout--classic">
                                                        <li><a href="{% url 'Lathes' %}">Lathes</a></li>
                                                        <li><a href="{% url 'CNCMachines' %}">CNC Machines</a></li>
                                                        <li><a href="{% url 'MillingMachines' %}">Milling Machines</a></li>
                                                        <li><a href="{% url 'HydraulicPresses' %}">Hydraulic Presses</a></li>
                                                    </ul><!-- .menu / end -->
                                                </div>



                                                <li class="departments__item departments__item--menu"><a
                                                    href="#"> Mining Equipment<svg class="departments__link-arrow"
                                                        width="6px" height="9px">
                                                        <use
                                                            xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-right-6x9">
                                                        </use>
                                                    </svg></a>
                                                <div class="departments__menu"><!-- .menu -->
                                                    <ul class="menu menu--layout--classic">
                                                        <li><a href="{% url 'RockDrill' %}">Rock Drills</a></li>
                                                        <li><a href="{% url 'CrushingMachines' %}">Crushing Machines</a></li>
                                                        <li><a href="{% url 'MiningTrucks' %}">Mining Trucks</a></li>
                                                        <li><a href="{% url 'ConveyorBelts' %}">Conveyor Belts</a></li>
                                                    </ul><!-- .menu / end -->
                                                </div>


                                                <li class="departments__item departments__item--menu"><a
                                                    href="#">
                                                    Agricultural Machinery<svg class="departments__link-arrow"
                                                        width="6px" height="9px">
                                                        <use
                                                            xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-right-6x9">
                                                        </use>
                                                    </svg></a>
                                                <div class="departments__menu"><!-- .menu -->
                                                    <ul class="menu menu--layout--classic">
                                                        <li><a href="{% url 'Tractors' %}">Tractors</a></li>
                                                        <li><a href="{% url 'Harvesters' %}"> Harvesters</a></li>
                                                        <li><a href="{% url 'Plows' %}"> Plows</a></li>
                                                  </ul><!-- .menu / end -->
                                                </div>


                                                    
                                                <li class="departments__item departments__item--menu"><a
                                                    href="#">
                                                    Heavy Vehicles<svg class="departments__link-arrow"
                                                        width="6px" height="9px">
                                                        <use
                                                            xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-right-6x9">
                                                        </use>
                                                    </svg></a>
                                                <div class="departments__menu"><!-- .menu -->
                                                    <ul class="menu menu--layout--classic">
                                                        <li><a href="{% url 'Dumptrucks'  %}">Dump Trucks</a></li>
                                                        <li><a href="{% url 'Tankers' %}">Tankers</a></li>
                                                        <li><a href="{% url 'Forklifts' %}">Forklifts</a></li>
                                                        <li><a href="{% url 'Trailers' %}">Trailers</a></li>
                                                    </ul><!-- .menu / end -->
                                                </div>                                            
                                                </ul>
                                            </div>






                                            

                                        </div><button class="departments__button"><svg class="departments__button-icon"
                                                width="18px" height="14px">
                                                <use xlink:href="{% static 'images/sprite.svg' %}#menu-18x14"></use>
                                            </svg> Shop By Category <svg class="departments__button-arrow" width="9px"
                                                height="6px">
                                                <use xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-down-9x6"></use>
                                            </svg></button>
                                    </div><!-- .departments / end -->
                                </div><!-- .nav-links -->









                                <div class="nav-panel__nav-links nav-links">
                                    <ul class="nav-links__list">
                                        <li class="nav-links__item nav-links__item--with-submenu"><a
                                                href="{% url 'home' %}"><span>Home</span></a>
                                        </li>
                                        
                                        <li class="nav-links__item nav-links__item--with-submenu"><a
                                                href="shop-grid-3-columns-sidebar.html"><span>Shop <svg
                                                        class="nav-links__arrow" width="9px" height="6px">
                                                        <use xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-down-9x6">
                                                        </use>
                                                    </svg></span></a>
                                            <div class="nav-links__menu"><!-- .menu -->
                                                <ul class="menu menu--layout--classic">
                                                    {% if user.is_authenticated %}
                                                    <li><a href="{% url 'cart_view' %}">Cart</a></li>
                                                    <li><a href="{% url 'checkout_view' %}">Checkout</a></li>
                                                    <li><a href="wishlist.html">Wishlist</a></l>
                                                    {% endif %}    
                                                </ul><!-- .menu / end -->
                                            </div>
                                        </li>
                                        <li class="nav-links__item nav-links__item--with-submenu"><a
                                                href=""><span>About Us</span></a>
                                        </li>
                                        <li class="nav-links__item"><a href="#"><span>Contact
                                                    Us</span></a></li>
                                                    {% if user.is_authenticated %}
                                                    <li class="nav-links__item">
                                                        <a href="{% url 'register_partner' %}">
                                                            <span>Register as Partner</span>
                                                        </a>
                                                    </li>
                                                    {% else %}
                                                    <li class="nav-links__item">
                                                        <a href="{% url 'Authenticate_view' %}">
                                                            <span>Login</span>
                                                        </a>
                                                    </li>
                                                    {% endif %}

                                    </ul>
                                </div><!-- .nav-links / end -->




















                                {% if user.is_authenticated %}
                                
                                <div class="nav-panel__indicators">
                                    <div class="indicator"><a href="wishlist.html" class="indicator__button"><span
                                                class="indicator__area"><svg width="20px" height="20px">
                                                    <use xlink:href="{% static 'images/sprite.svg' %}#heart-20"></use>
                                                </svg> <span class="indicator__value">0</span></span></a></div>
                                    <div class="indicator ">
                                        <a href="{% url 'cart_view' %}" class="indicator__button">
                                            <span class="indicator__area">
                                                <svg width="20px" height="20px">
                                                    <use xlink:href="{% static 'images/sprite.svg' %}#cart-20"></use>
                                                </svg>
                                                <span class="indicator__value" id="cart-count">0</span>
                                            </span>
                                        </a>
                                    </div>
                                </div>

                                {% endif %}


                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header><!-- desktop site__header / end --><!-- site__body -->
        {% endblock %}


        {% block contents %}


        <div class="site__body"><!-- .block-slideshow -->
            <div class="block-slideshow block-slideshow--layout--with-departments block">

                <div class="container">
                    <div class="row">
                        <div class="col-12 col-lg-9 offset-lg-3">
                            <div class="block-slideshow__body">
                                <div class="owl-carousel">
                                    <a class="block-slideshow__slide" href="#">
                                        <div class="block-slideshow__slide-image block-slideshow__slide-image--desktop"
                                             style="background-image: url('{% static 'images/slides/slide-1-mobile.jpg' %}')"></div>
                                        <div class="block-slideshow__slide-image block-slideshow__slide-image--mobile"
                                             style="background-image: url('{% static 'images/slides/slide-1-mobile.jpg' %}')"></div>
                                        <div style="color:black" class="block-slideshow__slide-content">
                                            <div class="block-slideshow__slide-title">Powerful Machines<br>For Every Job Site</div> 
                                            <div class="block-slideshow__slide-text bg-light p-3">Discover our wide range of top-rated heavy equipment to meet your demanding needs. Durable, reliable, and built to last!</div>
                                            <div class="block-slideshow__slide-button"><span class="btn btn-primary btn-lg">Shop Now</span></div>
                                        </div>
                                    </a>
                                    <a class="block-slideshow__slide" href="#">
                                        <div class="block-slideshow__slide-image block-slideshow__slide-image--desktop"
                                             style="background-image: url('{% static 'images/slides/slide-2-full.jpg' %}')"></div>
                                        <div class="block-slideshow__slide-image block-slideshow__slide-image--mobile"
                                             style="background-image: url('{% static 'images/slides/slide-2-mobile.jpg' %}')"></div>
                                        <div class="block-slideshow__slide-content">
                                            <div class="block-slideshow__slide-title">High-Performance Excavators<br>Unmatched Power & Precision</div> 
                                            <div class="block-slideshow__slide-text">Experience the power and efficiency of our top-of-the-line excavators. Designed for maximum productivity and performance.</div>
                                            <div class="block-slideshow__slide-button"><span class="btn btn-primary btn-lg">Shop Now</span></div>
                                        </div>
                                    </a>
                                    <a class="block-slideshow__slide" href="#">
                                        <div class="block-slideshow__slide-image block-slideshow__slide-image--desktop"
                                             style="background-image: url('{% static 'images/slides/slide-3.jpg' %}')"></div>
                                        <div class="block-slideshow__slide-image block-slideshow__slide-image--mobile"
                                             style="background-image: url('{% static 'images/slides/slide-3-mobile.jpg' %}')"></div>
                                        <div class="block-slideshow__slide-content">
                                            <div class="block-slideshow__slide-title">Exclusive Deals & Offers<br>On Select Machinery</div> 
                                            <div class="block-slideshow__slide-text">Browse our exclusive deals and offers on a wide range of heavy equipment. Don't miss out on these incredible savings!</div>
                                            <div class="block-slideshow__slide-button"><span class="btn btn-primary btn-lg">See the Deals</span></div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div><!-- .block-slideshow / end -->
            
            <div class="block block-features block-features--layout--classic">
                <div class="container">
                    <div class="block-features__list">
                        <div class="block-features__item">
                            <div class="block-features__icon"><svg width="48px" height="48px">
                                    <use xlink:href="{% static 'images/sprite.svg' %}#fi-free-delivery-48"></use>
                                </svg></div>
                            <div class="block-features__content">
                                <div class="block-features__title">Free Shipping</div>
                                <div class="block-features__subtitle">For orders from $50</div>
                            </div>
                        </div>
                        <div class="block-features__divider"></div>
                        <div class="block-features__item">
                            <div class="block-features__icon"><svg width="48px" height="48px">
                                    <use xlink:href="{% static 'images/sprite.svg' %}#fi-24-hours-48"></use>
                                </svg></div>
                            <div class="block-features__content">
                                <div class="block-features__title">Support 24/7</div>
                                <div class="block-features__subtitle">Call us anytime</div>
                            </div>
                        </div>
                        <div class="block-features__divider"></div>
                        <div class="block-features__item">
                            <div class="block-features__icon"><svg width="48px" height="48px">
                                    <use xlink:href="{% static 'images/sprite.svg' %}#fi-payment-security-48"></use>
                                </svg></div>
                            <div class="block-features__content">
                                <div class="block-features__title">100% Safety</div>
                                <div class="block-features__subtitle">Only secure payments</div>
                            </div>
                        </div>
                        <div class="block-features__divider"></div>
                        <div class="block-features__item">
                            <div class="block-features__icon"><svg width="48px" height="48px">
                                    <use xlink:href="{% static 'images/sprite.svg' %}#fi-tag-48"></use>
                                </svg></div>
                            <div class="block-features__content">
                                <div class="block-features__title">Hot Offers</div>
                                <div class="block-features__subtitle">Discounts up to 90%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- .block-features / end --><!-- .block-products-carousel -->









            <div class="block block-products-carousel" data-layout="grid-4">
                <div class="container">
                    <div class="block-header">
                        <h3 class="block-header__title">Featured Products</h3>
                        <div class="block-header__divider"></div>
                        <ul class="block-header__groups-list">
                            <li><button type="button" class="block-header__group block-header__group--active">All</button></li>
                            <li><button type="button" class="block-header__group">Construction equipment</button></li>
                          
                        </ul>
                        <div class="block-header__arrows-list">
                            <button class="block-header__arrow block-header__arrow--left" type="button">
                                <svg width="7px" height="11px">
                                    <use xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-left-7x11"></use>
                                </svg>
                            </button>
                            <button class="block-header__arrow block-header__arrow--right" type="button">
                                <svg width="7px" height="11px">
                                    <use xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-right-7x11"></use>
                                </svg>
                            </button>
                        </div>
                    </div>
            
                    <div class="block-products-carousel__slider">
                        <div class="block-products-carousel__preloader"></div>
                        <div class="owl-carousel">
                            {% for product in featured_products %}
                            <div class="block-products-carousel__column">
                                <div class="block-products-carousel__cell">
                                    <div class="product-card">
                                        <button class="product-card__quickview" type="button">
                                            <svg width="16px" height="16px">
                                                <use xlink:href="{% static 'images/sprite.svg' %}#quickview-16"></use>
                                            </svg>
                                            <span class="fake-svg-icon"></span>
                                        </button>
                                        <div class="product-card__badges-list">
                                            {% if product.product_tag == 'New Arrivals' %}
                                            <div class="product-card__badge product-card__badge--new">New</div>
                                            {% endif %}
                                        </div>
                                        <div class="product-card__image">
                                            {#  {% url 'product_detail' product.id %}  #}
                                            <a href="{% url 'product_detail' product.id %}">
                                                <img src="{{ product.image.url }}" alt="{{ product.name }}">
                                            </a>
                                        </div>
                                        <div class="product-card__info">
                                            <div class="product-card__name">
                                                {#  {% url 'product_detail' product.id %}  #}
                                                <a href="{% url 'product_detail' product.id %}">{{ product.name|upper }}</a>
                                            </div>
                                            <div class="product-card__rating">
                                                <div class="rating">
                                                    <div class="rating__body">
                                                        {% for i in "12345" %}
                                                            <svg class="rating__star {% if i <= product.reviews_in_stars %}rating__star--active{% endif %}" width="13px" height="12px">
                                                                <g class="rating__fill">
                                                                    <use xlink:href="{% static 'images/sprite.svg' %}#star-normal"></use>
                                                                </g>
                                                                <g class="rating__stroke">
                                                                    <use xlink:href="{% static 'images/sprite.svg' %}#star-normal-stroke"></use>
                                                                </g>
                                                            </svg>
                                                        {% endfor %}
                                                    </div>
                                                </div>
                                                <div class="product-card__rating-legend">{{ product.reviews_in_stars }} Stars</div>
                                            </div>
                                            
                                            <ul class="product-card__features-list">
                                                <li>Material: {{ product.material }}</li>
                                                <li>Dimensions: {{ product.dimensions }}</li>
                                            </ul>
                                        </div>
                                        <div class="product-card__actions">
                                            <div class="product-card__availability">
                                                Availability: <span class="text-success">In Stock</span>
                                            </div>
                                            <div class="product-card__prices">${{ product.price|floatformat:2|intcomma }}</div>
                                            <div class="product-card__buttons">
                                                {% if user.is_authenticated %}
                                                <button class="btn btn-primary add-to-cart-btn"
                                                type="button"
                                                data-product-id="{{ product.id }}"
                                                data-add-to-cart-url="{% url 'add_to_cart' product.id %}"
                                                data-csrf-token="{{ csrf_token }}">
                                            <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                            <span class="btn-text">Add To Cart</span>
                                        </button>
                                        {% else %}
                                        <button class="btn btn-primary add-to-cart-btn"
                                        type="button">
                                    <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                    <span class="btn-text">Add To Cart</span>
                                </button>
                                {% endif %}
                                        

                                                <button class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist" type="button">
                                                    <svg width="16px" height="16px">
                                                        <use xlink:href="{% static 'images/sprite.svg' %}#wishlist-16"></use>
                                                    </svg>
                                                    <span class="fake-svg-icon fake-svg-icon--wishlist-16"></span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            






            <div class="block block-banner">
                <div class="container"><a href="#" class="block-banner__body">
                        <div class="block-banner__image block-banner__image--desktop"
                             style="background-image: url('{% static 'images/banners/banner-1.jpg' %}')"></div>
                        <div class="block-banner__image block-banner__image--mobile"
                             style="background-image: url('{% static 'images/banners/banner-1-mobile.jpg' %}')"></div>
                        <div class="block-banner__title">Hundreds<br class="block-banner__mobile-br">Heavy Duty Machines</div> 
                        <div class="block-banner__text">Excavators, Bulldozers, Forklifts, Cranes, Trucks</div> 
                        <div class="block-banner__button"><span class="btn btn-sm btn-primary">Shop Now</span></div>
                    </a></div>
            </div>







            <div class="block block-products-carousel" data-layout="grid-4">
                <div class="container">
                    <div class="block-header">
                        <h3 class="block-header__title">Bestsellers</h3>
                        <div class="block-header__divider"></div>
                        <div class="block-header__arrows-list">
                            <button class="block-header__arrow block-header__arrow--left" type="button">
                                <svg width="7px" height="11px">
                                    <use xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-left-7x11"></use>
                                </svg>
                            </button>
                            <button class="block-header__arrow block-header__arrow--right" type="button">
                                <svg width="7px" height="11px">
                                    <use xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-right-7x11"></use>
                                </svg>
                            </button>
                        </div>
                    </div>
            
                    <div class="block-products-carousel__slider">
                        <div class="block-products-carousel__preloader"></div>
                        <div class="owl-carousel">
                            {% for product in bestsellers %}
                            <div class="block-products-carousel__column">
                                <div class="block-products-carousel__cell">
                                    <div class="product-card">
                                        <button class="product-card__quickview" type="button">
                                            <svg width="16px" height="16px">
                                                <use xlink:href="{% static 'images/sprite.svg' %}#quickview-16"></use>
                                            </svg>
                                            <span class="fake-svg-icon"></span>
                                        </button>
                                        <div class="product-card__badges-list">
                                            {% if product.product_tag == 'New Arrivals' %}
                                            <div class="product-card__badge product-card__badge--new">New</div>
                                            {% endif %}
                                        </div>
                                        <div class="product-card__image">
                                            {#  {% url 'product_detail' product.id %}  #}
                                            <a href="{% url 'product_detail' product.id %}">
                                                <img src="{{ product.image.url }}" alt="{{ product.name }}">
                                            </a>
                                        </div>
                                        <div class="product-card__info">
                                            <div class="product-card__name">
                                                {#  {% url 'product_detail' product.id %}  #}
                                                <a href="{% url 'product_detail' product.id %}">{{ product.name|upper }}</a>
                                            </div>
                                            <div class="product-card__rating">
                                                <div class="rating">
                                                    <div class="rating__body">
                                                        {% for i in "12345" %}
                                                            <svg class="rating__star {% if i <= product.reviews_in_stars %}rating__star--active{% endif %}" width="13px" height="12px">
                                                                <g class="rating__fill">
                                                                    <use xlink:href="{% static 'images/sprite.svg' %}#star-normal"></use>
                                                                </g>
                                                                <g class="rating__stroke">
                                                                    <use xlink:href="{% static 'images/sprite.svg' %}#star-normal-stroke"></use>
                                                                </g>
                                                            </svg>
                                                        {% endfor %}
                                                    </div>
                                                </div>
                                                <div class="product-card__rating-legend">{{ product.reviews_in_stars }} Stars</div>
                                            </div>
                                            
                                            <ul class="product-card__features-list">
                                                <li>Material: {{ product.material }}</li>
                                                <li>Dimensions: {{ product.dimensions }}</li>
                                            </ul>
                                        </div>
                                        <div class="product-card__actions">
                                            <div class="product-card__availability">
                                                Availability: <span class="text-success">In Stock</span>
                                            </div>
                                            <div class="product-card__prices">${{ product.price|floatformat:2|intcomma }}</div>
                                            <div class="product-card__buttons">
                                                {% if user.is_authenticated %}
                                                <button class="btn btn-primary add-to-cart-btn"
                                                type="button"
                                                data-product-id="{{ product.id }}"
                                                data-add-to-cart-url="{% url 'add_to_cart' product.id %}"
                                                data-csrf-token="{{ csrf_token }}">
                                            <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                            <span class="btn-text">Add To Cart</span>
                                              </button>
                                              {% else %}
                                              <button class="btn btn-primary add-to-cart-btn"
                                              type="button">
                                          <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                          <span class="btn-text">Add To Cart</span>
                                            </button>
                                            {% endif %}
                                        

                                                <button class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist" type="button">
                                                    <svg width="16px" height="16px">
                                                        <use xlink:href="{% static 'images/sprite.svg' %}#wishlist-16"></use>
                                                    </svg>
                                                    <span class="fake-svg-icon fake-svg-icon--wishlist-16"></span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            













            
            <div class="block block--highlighted block-categories block-categories--layout--classic">
                <div class="container">
                    <div class="block-header">
                        <h3 class="block-header__title">Popular Categories</h3>
                        <div class="block-header__divider"></div>
                    </div>
                    <div class="block-categories__list">
                        <div class="block-categories__item category-card category-card--layout--classic">
                            <div class="category-card__body">
                                <div class="category-card__image"><a href="#"><img
                                            src="{% static 'images/popular_images/Agricultural_machinery.jpeg' %}" alt=""></a></div>
                                <div class="category-card__content">
                                    <div class="category-card__name"><a href="#">Agricultural Machinery</a></div>
                                    <ul class="category-card__links">
                                        <li><a href="{% url 'Tractors' %}">Tractors</a></li>
                                        <li><a href="{% url 'Harvesters' %}"> Harvesters</a></li>
                                        <li><a href="{% url 'Plows' %}"> Plows</a></li>
                                    </ul>
                            </div>
                            </div>
                        </div> 
                        <div class="block-categories__item category-card category-card--layout--classic">
                            <div class="category-card__body">
                                <div class="category-card__image"><a href="#"><img
                                            src="{% static 'images/popular_images/constuction_equicpments.jpeg' %}" alt=""></a></div>
                                <div class="category-card__content">
                                    <div class="category-card__name"><a href="#">Construction Equipment</a></div>
                                    <ul class="category-card__links">
                                        <li><a href="{% url 'Excavators' %}">Excavators</a></li>
                                       <li><a href="{% url 'Bulldozers' %}">Bulldozers</a></li>
                                        <li><a href="{% url 'Cranes' %}">Cranes</a></li>
                                     <li><a href="{% url 'Loaders' %}">Loaders</a></li>
                                    </ul>
                             </div>
                            </div>
                        </div>
                        <div class="block-categories__item category-card category-card--layout--classic">
                            <div class="category-card__body">
                                <div class="category-card__image"><a href="#"><img
                                            src="{% static 'images/popular_images/heavy_machinery.jpeg' %}" alt=""></a></div>
                                <div class="category-card__content">
                                    <div class="category-card__name"><a href="#">Heavy Vehicles</a></div>
                                    <ul class="category-card__links">
                                        <li><a href="{% url 'Dumptrucks' %}">Dump Trucks</a></li>
                                        <li><a href="{% url 'Tankers' %}">Tankers</a></li>
                                        <li><a href="{% url 'Forklifts' %}">Forklifts</a></li>
                                        <li><a href="{% url 'Trailers' %}">Trailers</a></li>
                                    </ul>
                             </div>
                            </div>
                        </div>
                        <div class="block-categories__item category-card category-card--layout--classic">
                            <div class="category-card__body">
                                <div class="category-card__image"><a href="#"><img
                                            src="{% static 'images/popular_images/Mining_machenery.jpeg' %}" alt=""></a></div>
                                <div class="category-card__content">
                                    <div class="category-card__name"><a href="#">Mining Equipment</a></div>
                                    <ul class="category-card__links">
                                        <li><a href="{% url 'RockDrill' %}">Rock Drills</a></li>
                                        <li><a href="{% url 'CrushingMachines' %}">Crushing Machines</a></li>
                                        <li><a href="{% url 'MiningTrucks' %}">Mining Trucks</a></li>
                                        <li><a href="{% url 'ConveyorBelts' %}">Conveyor Belts</a></li>
                                    </ul>
                             </div>
                            </div>
                        </div>
                    
                        <div class="block-categories__item category-card category-card--layout--classic">
                            <div class="category-card__body">
                                <div class="category-card__image"><a href="#"><img
                                            src="{% static 'images/popular_images/Industral_machines.jpeg' %}" alt=""></a></div>
                                <div class="category-card__content">
                                    <div class="category-card__name"><a href="#">Industrial Machinery</a></div>
                                    <ul class="category-card__links">
                                 <li><a href="{% url 'Lathes' %}">Lathes</a></li>
                                <li><a href="{% url 'CNCMachines' %}">CNC Machines</a></li>
                                <li><a href="{% url 'MillingMachines' %}">Milling Machines</a></li>
                                <li><a href="{% url 'HydraulicPresses' %}">Hydraulic Presses</a></li>
                                    </ul>
                             </div>
                            </div>
                        </div>
                       
                        <div class="block-categories__item category-card category-card--layout--classic">
                            <div class="category-card__body">
                                <div class="category-card__image"><a href="#"><img
                                            src="{% static 'images/popular_images/metal_products.jpeg' %}" alt=""></a></div>
                                <div class="category-card__content">
                                    <div class="category-card__name"><a href="#">Metal Products</a></div>
                                    <ul class="category-card__links">
                                        <li><a href="{% url 'SteelPlates' %}">Steel Plates</a></li>
                                        <li><a href="{% url 'AluminumSheets' %}">Aluminum Sheets</a></li>
                                        <li><a href="{% url 'CopperWires' %}">Copper Wires</a></li>
                                        <li><a href="{% url 'MetalPipes' %}">Metal Pipes</a></li>
                                    </ul>
                             </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- .block-categories / end --><!-- .block-products-carousel -->

















            <div class="block block-products-carousel" data-layout="horizontal">
                <div class="container">
                    <div class="block-header">
                        <h3 class="block-header__title">New Arrivals</h3>
                        <div class="block-header__divider"></div>
                   
                        <div class="block-header__arrows-list"><button
                                class="block-header__arrow block-header__arrow--left" type="button"><svg width="7px"
                                    height="11px">
                                    <use xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-left-7x11"></use>
                                </svg></button> <button class="block-header__arrow block-header__arrow--right"
                                type="button"><svg width="7px" height="11px">
                                    <use xlink:href="{% static 'images/sprite.svg' %}#arrow-rounded-right-7x11"></use>
                                </svg></button></div>
                    </div>
                    <div class="block-products-carousel__slider">
                        <div class="block-products-carousel__preloader"></div>
                        <div class="owl-carousel">
                       
                            {% for product in New_arrivals %}

                            <div class="block-products-carousel__column">
                                <div class="block-products-carousel__cell">
                                    <div class="product-card"><button class="product-card__quickview" type="button"><svg
                                                width="16px" height="16px">
                                                <use xlink:href="{% static 'images/sprite.svg' %}#quickview-16"></use>
                                            </svg> <span class="fake-svg-icon"></span></button>
                                        <div class="product-card__badges-list">
                                            {% if product.product_tag == 'New Arrivals' %}
                                            <div class="product-card__badge product-card__badge--new">New</div>
                                            {% endif %}
                                        </div>
                                        <div class="product-card__image">
                                            <a href="{% url 'product_detail' product.id %}">
                                                <img src="{{ product.image.url }}" alt="{{ product.name }}">
                                            </a>
                                        </div>
                                        <div class="product-card__info">
                                            <div class="product-card__name">  <a href="{% url 'product_detail' product.id %}">{{ product.name|upper }}</a></div>
                                            
                                            
                                            <div class="product-card__rating">
                                                <div class="rating">
                                                    <div class="rating__body">
                                                        {% for i in "12345" %}
                                                            <svg class="rating__star {% if i <= product.reviews_in_stars %}rating__star--active{% endif %}" width="13px" height="12px">
                                                                <g class="rating__fill">
                                                                    <use xlink:href="{% static 'images/sprite.svg' %}#star-normal"></use>
                                                                </g>
                                                                <g class="rating__stroke">
                                                                    <use xlink:href="{% static 'images/sprite.svg' %}#star-normal-stroke"></use>
                                                                </g>
                                                            </svg>
                                                        {% endfor %}
                                                    </div>
                                                </div>
                                                <div class="product-card__rating-legend">{{ product.reviews_in_stars }} Stars</div>
                                            </div>




                                            <ul class="product-card__features-list">
                                                <li>Material: {{ product.material }}</li>
                                                <li>Dimensions: {{ product.dimensions }}</li>
                                            </ul>
                                        </div>



                                        <div class="product-card__actions">
                                            <div class="product-card__availability">Availability: <span
                                                    class="text-success">In Stock</span></div>
                                            <div class="product-card__prices">${{ product.price|floatformat:2|intcomma }}</div>
                                            <div class="product-card__buttons"><button
                                                    class="btn btn-primary product-card__addtocart" type="button">Add To
                                                    Cart</button> <button
                                                    class="btn btn-secondary product-card__addtocart product-card__addtocart--list"
                                                    type="button">Add To Cart</button> <button
                                                    class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist"
                                                    type="button"><svg width="16px" height="16px">
                                                        <use xlink:href="{% static 'images/sprite.svg' %}#wishlist-16"></use>
                                                    </svg> <span
                                                        class="fake-svg-icon fake-svg-icon--wishlist-16"></span></button>
                                                <button
                                                    class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__compare"
                                                    type="button"><svg width="16px" height="16px">
                                                        <use xlink:href="{% static 'images/sprite.svg' %}#compare-16"></use>
                                                    </svg> <span
                                                        class="fake-svg-icon fake-svg-icon--compare-16"></span></button>
                                            </div>
                                        </div>

                                        


                                    </div>
                                </div>
                            </div>
                            {% endfor %}

                        </div>
                    </div>
                </div>
            </div><!-- .block-products-carousel / end --><!-- .block-posts -->
























            <div class="block block-product-columns d-lg-block d-none">
                <div class="container">
                    <div class="row">
                        <div class="col-4">
                            <div class="block-header">
                                <h3 class="block-header__title">Top Rated Products</h3>
                                <div class="block-header__divider"></div>
                            </div>

                            {% for product in Popular %}
                            {% if  forloop.counter <= 3  %}
                            <div class="block-product-columns__column">
                                <div class="block-product-columns__item">
                                    <div class="product-card product-card--layout--horizontal"><button
                                            class="product-card__quickview" type="button"><svg width="16px"
                                                height="16px">
                                                <use xlink:href="{% static 'images/sprite.svg' %}#quickview-16"></use>
                                            </svg> <span class="fake-svg-icon"></span></button>
                                        <div class="product-card__badges-list">
                                            {% if product.product_tag == 'New Arrivals' %}
                                            <div class="product-card__badge product-card__badge--new">New</div>
                                            {% endif %}
                                        </div>
                                        <div class="product-card__image">
                                            <a href="{% url 'product_detail' product.id %}">
                                                <img src="{{ product.image.url }}" alt="{{ product.name }}">
                                            </a></div>
                                        <div class="product-card__info">
                                            <div class="product-card__name"><a href="{% url 'product_detail' product.id %}">{{ product.name|upper }}</a></div>
                                            
                                            <div class="product-card__rating">
                                                <div class="rating">
                                                    <div class="rating__body">
                                                        {% for i in "12345" %}
                                                            <svg class="rating__star {% if i <= product.reviews_in_stars %}rating__star--active{% endif %}" width="13px" height="12px">
                                                                <g class="rating__fill">
                                                                    <use xlink:href="{% static 'images/sprite.svg' %}#star-normal"></use>
                                                                </g>
                                                                <g class="rating__stroke">
                                                                    <use xlink:href="{% static 'images/sprite.svg' %}#star-normal-stroke"></use>
                                                                </g>
                                                            </svg>
                                                        {% endfor %}
                                                    </div>
                                                </div>
                                                <div class="product-card__rating-legend">{{ product.reviews_in_stars }} Stars</div>
                                            </div>
                   

 
                                            <ul class="product-card__features-list">
                                                <li>Material: {{ product.material }}</li>
                                                <li>Dimensions: {{ product.dimensions }}</li>
                                            </ul>
                                        </div>
                                        <div class="product-card__actions">
                                            <div class="product-card__availability">Availability: <span
                                                    class="text-success">In Stock</span></div>
                                            <div class="product-card__prices">${{ product.price|floatformat:2|intcomma }}</div>
                                            <div class="product-card__buttons"> 
                                                {% if user.is_authenticated %}
                                                <button class="btn btn-primary add-to-cart-btn"
                                                type="button"
                                                data-product-id="{{ product.id }}"
                                                data-add-to-cart-url="{% url 'add_to_cart' product.id %}"
                                                data-csrf-token="{{ csrf_token }}">
                                            <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                            <span class="btn-text">Add To Cart</span>
                                              </button> 
                                              {% else %}
                                              <button class="btn btn-primary add-to-cart-btn"
                                              type="button"
                                             >
                                          <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                          <span class="btn-text">Add To Cart</span>
                                            </button> 
                                            {% endif %}

                                             <button
                                                    class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist"
                                                    type="button"><svg width="16px" height="16px">
                                                        <use xlink:href="{% static 'images/sprite.svg' %}#wishlist-16"></use>
                                                    </svg> <span
                                                        class="fake-svg-icon fake-svg-icon--wishlist-16"></span></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endif %}
                            {% endfor %}
                        </div>















                        <div class="col-4">
                            <div class="block-header">
                                <h3 class="block-header__title">Special Offers</h3>
                                <div class="block-header__divider"></div>
                            </div>


                            {% for product in Popular %}
                            {% if forloop.counter > 3 and forloop.counter < 7 %}
                                <div class="block-product-columns__column">
                                    <div class="block-product-columns__item">
                                        <div class="product-card product-card--layout--horizontal">
                                            <button class="product-card__quickview" type="button">
                                                <svg width="16px" height="16px">
                                                    <use xlink:href="{% static 'images/sprite.svg' %}#quickview-16"></use>
                                                </svg>
                                                <span class="fake-svg-icon"></span>
                                            </button>
                                            <div class="product-card__badges-list">
                                                <div class="product-card__badge product-card__badge--sale">Sale</div>
                                            </div>
                                            <div class="product-card__image">
                                                <a href="{% url 'product_detail' product.id %}">
                                                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                                                </a>
                                            </div>
                                            <div class="product-card__info">
                                                <div class="product-card__name">
                                                    <a href="{% url 'product_detail' product.id %}">{{ product.name|upper }}</a>
                                                </div>
                                                <div class="product-card__rating">
                                                    <div class="rating">
                                                        <div class="rating__body">
                                                            {% for i in "12345" %}
                                                                <svg class="rating__star {% if i <= product.reviews_in_stars %}rating__star--active{% endif %}" width="13px" height="12px">
                                                                    <g class="rating__fill">
                                                                        <use xlink:href="{% static 'images/sprite.svg' %}#star-normal"></use>
                                                                    </g>
                                                                    <g class="rating__stroke">
                                                                        <use xlink:href="{% static 'images/sprite.svg' %}#star-normal-stroke"></use>
                                                                    </g>
                                                                </svg>
                                                            {% endfor %}
                                                        </div>
                                                    </div>
                                                    <div class="product-card__rating-legend">{{ product.reviews_in_stars }} Stars</div>
                                                </div>
                                                <ul class="product-card__features-list">
                                                    <li>Material: {{ product.material }}</li>
                                                    <li>Dimensions: {{ product.dimensions }}</li>
                                                </ul>
                                            </div>
                                            <div class="product-card__actions">
                                                <div class="product-card__availability">Availability: <span class="text-success">In Stock</span></div>
                                                <div class="product-card__prices">${{ product.price|floatformat:2|intcomma }}</div>
                                                <div class="product-card__buttons">
                                                    {% if user.is_authenticated %}
                                                    <button class="btn btn-primary add-to-cart-btn" type="button"
                                                        data-product-id="{{ product.id }}"
                                                        data-add-to-cart-url="{% url 'add_to_cart' product.id %}"
                                                        data-csrf-token="{{ csrf_token }}">
                                                        <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                                        <span class="btn-text">Add To Cart</span>
                                                    </button>
                                                    {% else %}
                                                    <button class="btn btn-primary add-to-cart-btn" type="button">
                                                    <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                                    <span class="btn-text">Add To Cart</span>
                                                </button>
                                                {% endif %}
                                                    <button class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist" type="button">
                                                        <svg width="16px" height="16px">
                                                            <use xlink:href="{% static 'images/sprite.svg' %}#wishlist-16"></use>
                                                        </svg>
                                                        <span class="fake-svg-icon fake-svg-icon--wishlist-16"></span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            {% endif %}
                        {% endfor %}
                        
                        </div>











                        <div class="col-4">
                            <div class="block-header">
                                <h3 class="block-header__title">Bestsellers</h3>
                                <div class="block-header__divider"></div>
                            </div>




                            {% for product in featured_products %}
                            {% if forloop.counter > 3 and forloop.counter < 7 %}
                                <div class="block-product-columns__column">
                                    <div class="block-product-columns__item">
                                        <div class="product-card product-card--layout--horizontal">
                                            <button class="product-card__quickview" type="button">
                                                <svg width="16px" height="16px">
                                                    <use xlink:href="{% static 'images/sprite.svg' %}#quickview-16"></use>
                                                </svg>
                                                <span class="fake-svg-icon"></span>
                                            </button>
                                            <div class="product-card__badges-list">
                                                <div class="product-card__badge product-card__badge--sale">Sale</div>
                                            </div>
                                            <div class="product-card__image">
                                                <a href="{% url 'product_detail' product.id %}">
                                                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                                                </a>
                                            </div>
                                            <div class="product-card__info">
                                                <div class="product-card__name">
                                                    <a href="{% url 'product_detail' product.id %}">{{ product.name|upper }}</a>
                                                </div>
                                                <div class="product-card__rating">
                                                    <div class="rating">
                                                        <div class="rating__body">
                                                            {% for i in "12345" %}
                                                                <svg class="rating__star {% if i <= product.reviews_in_stars %}rating__star--active{% endif %}" width="13px" height="12px">
                                                                    <g class="rating__fill">
                                                                        <use xlink:href="{% static 'images/sprite.svg' %}#star-normal"></use>
                                                                    </g>
                                                                    <g class="rating__stroke">
                                                                        <use xlink:href="{% static 'images/sprite.svg' %}#star-normal-stroke"></use>
                                                                    </g>
                                                                </svg>
                                                            {% endfor %}
                                                        </div>
                                                    </div>
                                                    <div class="product-card__rating-legend">{{ product.reviews_in_stars }} Stars</div>
                                                </div>
                                                <ul class="product-card__features-list">
                                                    <li>Material: {{ product.material }}</li>
                                                    <li>Dimensions: {{ product.dimensions }}</li>
                                                </ul>
                                            </div>
                                            <div class="product-card__actions">
                                                <div class="product-card__availability">Availability: <span class="text-success">In Stock</span></div>
                                                <div class="product-card__prices">${{ product.price|floatformat:2|intcomma }}</div>
                                                <div class="product-card__buttons">
                                                    {% if user.is_authenticated %}
                                                    <button class="btn btn-primary add-to-cart-btn" type="button"
                                                        data-product-id="{{ product.id }}"
                                                        data-add-to-cart-url="{% url 'add_to_cart' product.id %}"
                                                        data-csrf-token="{{ csrf_token }}">
                                                        <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                                        <span class="btn-text">Add To Cart</span>
                                                    </button>
                                                    {% else %}
                                                    <button class="btn btn-primary add-to-cart-btn" type="button">
                                                    <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                                    <span class="btn-text">Add To Cart</span>
                                                </button>
                                                {% endif %}

                                                    <button class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist" type="button">
                                                        <svg width="16px" height="16px">
                                                            <use xlink:href="{% static 'images/sprite.svg' %}#wishlist-16"></use>
                                                        </svg>
                                                        <span class="fake-svg-icon fake-svg-icon--wishlist-16"></span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            {% endif %}
                        {% endfor %}






                        </div>













                    </div>
                </div>
            </div><!-- .block-product-columns / end -->
        </div><!-- site__body / end --><!-- site__footer -->
       



     <script>
     document.addEventListener("DOMContentLoaded", function () {
    const cartCountElement = document.getElementById("cart-count");

    // Function to fetch and update cart count
    function updateCartCount() {
        const cachedCount = sessionStorage.getItem("cart_count");
        if (cachedCount) {
            cartCountElement.textContent = cachedCount;
        }

        fetch("{% url 'get_cart_count' %}")
            .then(response => response.json())
            .then(data => {
                if (data.cart_count !== undefined) {
                    cartCountElement.textContent = data.cart_count;
                    sessionStorage.setItem("cart_count", data.cart_count); // Cache count
                }
            })
            .catch(error => console.error("Error fetching cart count:", error));
    }

    // Initialize cart count on page load
    updateCartCount();

    // Add click event to Add-to-Cart buttons
    document.querySelectorAll(".add-to-cart-btn").forEach(button => {
        button.addEventListener("click", function () {
            const btn = this;
            const spinner = btn.querySelector(".spinner-border");
            const btnText = btn.querySelector(".btn-text");
            const productId = btn.getAttribute("data-product-id");
            const csrfToken = btn.getAttribute("data-csrf-token");
            const addToCartUrl = btn.getAttribute("data-add-to-cart-url");

            if (!addToCartUrl || !productId) {
                console.error("Product ID or Add-to-Cart URL is missing");
                return;
            }

            spinner.classList.remove("d-none");
            btnText.textContent = "";
            btn.disabled = true;

            fetch(addToCartUrl, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "X-CSRFToken": csrfToken
                },
                body: JSON.stringify({ product_id: productId })
            })
                .then(response => {
                    if (response.ok) {
                        return response.json();
                    }
                    throw new Error("Failed to add to cart");
                })
                .then(() => {
                    updateCartCount(); // Refresh cart count in real-time
                    btnText.textContent = "Added";
                    btn.classList.add("btn-success");

                    setTimeout(() => {
                        spinner.classList.add("d-none");
                        btnText.textContent = "Add To Cart";
                        btn.classList.remove("btn-success");
                        btn.disabled = false;
                    }, 2000);
                })
                .catch(error => {
                    console.error("Error:", error);
                    alert("Error adding product to cart. Please try again.");
                    spinner.classList.add("d-none");
                    btnText.textContent = "Add To Cart";
                    btn.disabled = false;
                });
        });
    });
});

     </script>   


    {% endblock %}